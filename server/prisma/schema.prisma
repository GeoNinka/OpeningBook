generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url = env("DATABASE_URL")
}

model User {
  id Int @id @default(autoincrement())
  login String @unique
  password String
}

model TheoreticalBase {
  id Int @id @default(autoincrement())
  fen String @unique
  translation TheoreticalBaseTranslate[] @relation("Translate")
  fromMove Moves[] @relation("FromTheory")
  toMove Moves[] @relation("ToTheory")
}

model TheoreticalBaseTranslate {
  id Int @id @default(autoincrement())
  langCode String
  description String
  name String
  positionId Int
  position TheoreticalBase @relation("Translate", fields: [positionId], references: [id])
}


model Moves {
  id Int @id @default(autoincrement())
  fromId Int
  toId Int
  move String
  from TheoreticalBase @relation("FromTheory", fields: [fromId], references: [id])
  to TheoreticalBase @relation("ToTheory", fields: [toId], references: [id])
  piece String
  type String
}